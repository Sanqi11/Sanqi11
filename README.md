                                                              一：SHELL
$1 脚本后的第一个参数
$? 上一个命令是否执行成功
$$  当前程序的进程号
"" 界定范围
'' 界定范围，屏蔽特殊符号。
``获取执行结果    $( ) 效果一样  例如： a=`ls`  a=$(ls)

案例：创建ftp 账号的脚本：
#!/bin/bash
useradd $1
useradd -d /data01/ftpfile/$1 -s /sbin/nologin $1
echo $2 | passwd -- stdin $1

===========================
条件测试:  ==  判断两边的内容是否相等  ；例如  [ root == $user ] 我是不是管理员  echo $?
- n 判断是否非空   [ - n "$a" ]   变量需用引号引起来。否则若为空，会报错
- z 判断是否为空

1、逻辑测试  ：  
&&  前面任务成功后，才执行之后的任务
||  前面的任务失败后， 才执行之后的任务
例如:  [ - z $1 ]  && exit
yum -y install $1 & >/dev/null
 systemctl restart $1
 systemctl enable $1
 
 #!/bin/bash
 read -p "请输入用户名" n
 [ -z $n ] $ && echo "请输入名字" && exit
 user -add $n
 
 2、数字的测试：
 -eq 等于  -ne不等于 -gt大于  -ge大于等于  -lt小于  -le小于等于
 
 超过3人登录，发邮件
 #!/bin/bash
 x= `who | wc -l`
 [ $x -gt 3] && echo "有人登录服务器" | mail -s test root
 
 3、文件的测试
 -e 是否存在  -f  是否存在且为普通文件  -d 是否存在且为目录
 
 
 ===============================================================================================
 if 判断
 单分支
 if  条件测试 ; then
     执行指令
 fi
 
 双分支
 if  条件测试; then
    执行指令1
 else
    执行指令2
 fi
 
 多分支
  if  条件测试; then
    执行指令1
 elif  添加测试2 ; then
    执行指令2
 else
    执行指令3
 fi



IT技术标准_计算与存储服务技术标准
基于全面上云策略，流程IT新增项目所需的资源通过云服务满足，存量云下资源根据上云要求逐步迁移上云。规范旨在帮用户规避、计算与存储平台使用过程遇到的问题，使用户在使用计算和存储资源更加规范、便利。

本标准遵循多产业IT策略，适应华为运营商BG、企业业务BG、消费者业务BG和其他业务BG在内的多产业IT生产环境。
本标准适用于全公司范围内的IT服务器、存储以及备份等基础设施系统的新建和扩容；对于目前已有的IT系统相关技术与产品，可以维持现状不做强制遵从要求，但需制定升级计划并尽快完成升级。


3	计算与存储技术标准
【Should】根据同版本、同架构要求，云上资源按场景分为专属云、公有云和HCSO。
类型	供应商	区域名称
专属云	华为云	南京、东莞、贵阳、杭州、上海、苏州、深圳、成都、西安、武汉
华为云	华为云	约翰内斯堡、巴西、新加坡、香港、墨西哥、泰国、北京
HCSO	华为云	德国、俄罗斯、英国、阿联酋、加拿大、波兰、瑞典、肯尼亚、土耳其、菲律宾、马来西亚、印度尼西亚、日本、沙特、尼日利亚、印度、巴基斯坦
公有云	第三方云	满足公司认证和安全要求，具备面向全球的云服务资源供应能力。

3.1	计算服务
3.1.1	弹性云主机服务（Elastic Compute Cloud）
【Should】可弹性扩展、安全、稳定、易用的计算服务，由磁盘、操作系统、规格、镜像、快照、安全组、控制台组成
云服务	服务特点	适用场景	备注
弹性云主机(EC2)	可弹性扩展、安全、稳定、易用的计算服务，由磁盘、操作系统、规格、镜像、快照、安全组、控制台组成	生产与办公IT业务等场景
研发编译、测试、仿真等业务	


3.1.2	裸机服务（Bare Metal Server）
【must】专属的云上物理服务器、满足高性能场景需求
云服务	服务特点	适用场景	备注
裸金属(BMS)	专属的云上物理服务器、满足高性能场景需求	高性能计算、AI等关键业务	


3.1.3	弹性容器服务服务（Elastic Kubernetes Service）
【Should】基于容器镜像打包应用及运行时环境，一次性完成应用组件部署(镜像应用运行依赖的基础OS，应用运行时环境，应用包及配置信息)
云服务	服务特点	适用场景	备注
弹性容器服务（EKS）	基于容器镜像打包应用及运行时环境，一次性完成应用组件部署(镜像应用运行依赖的基础OS，应用运行时环境，应用包及配置信息) 	研发作业（CI&仿真&测试等任务型负载），新型负载(AI，边缘计算等)，Web负载，微服务等	


3.1.4	计算On-Premises
	【Should】
适用场景	芯片要求	供应商选择范围	备注
标准服务器	X86-64	Huawei
	1、新建项目全部使用云服务，申请使用标准服务器须获得系统HIS总体组批准。
2、华为机型如下：
Huawei 2288H v5、2488H v5、5288v5
高端服务器	X86-64	Huawei	1、新建项目全部使用云服务，高端服务器原则上只在SAP HANA场景使用，其它场景申请须获得系统HIS总体组批准
2、华为机型如下：
Kunlun系列（含SAP HANA）
一体机	X86-64	Huawei	1、根据去”O” 要求，原则上不再新增，申请使用须获得系统HIS总体组批准
2、机型如下:
DB：CH242 V5 / KunLun9008 
ST：CH225 V5 / 2288H V5
IB：SB7800
TaiShan服务器	ARM	Huawei	TaiShan 2280 V1、TaiShan 2280 V2
第三方服务器	X86-64/ARM	Other	首次引入需在流程IT TA SAG汇报通过，确保满足引入的X86/ARM 服务器满足公司规范要求




3.2	存储服务
3.2.1	块存储服务(Elastic Block Storage)
【Should】基于分布式架构，可弹性扩展的虚拟块存储服务。用户可以对挂载到云主机上的云硬盘做格式化、创建文件系统等操作，并对数据做持久化存储。
云服务	服务特点	适用场景	备注
块存储（EBS）	基于分布式架构，可弹性扩展的虚拟块存储服务。用户可以对挂载到云主机上的云硬盘做格式化、创建文件系统等操作，并对数据做持久化存储	NoSQL(MongoDB)/关系型数据库(MySQL) （高性能SSD盘:）
企业应用通用场景
、备份（普通云盘）	

3.2.2	对象存储服务（Simple Storage Services）
【Should】提供基于网络的数据存取服务,数据、内容分享和热对象存储服务。
云服务	服务特点	适用场景	备注
对象存储 （S3）	提供基于网络的数据存取服务,数据、内容分享和热对象存储服务	满足研发版本构建包库、发布软件包仓库
虚拟机镜像、容器镜像、备份等场景	
3.2.3	文件存储服务（Elastic Shared File Service）
【Should】提供按需扩展，高可靠，高性能、完全托管的云上NAS服务。
云服务	服务特点	适用场景	备注
文件存储(ESFS)	提供按需扩展，高可靠，高性能、完全托管的云上NAS服务	为弹性云主机、裸金属服务以及弹性容器等计算业务提供高性能的共享存储	

3.2.4	存储On-Premises
	【Should】
使用范围	产品/供应商选择范围	备注
传统块存储	Huawei Ocenstor系列	不新增，存量老旧替换或随上云日落 
分布式块存储	Huawei FusionStorage Block	不新增，存量老旧替换或随上云日落
文件共享存储	Huawei OceanStor系列
Huawei FusionStorage系列
Netapp FAS系列	不新增，存量老旧替换或随上云日落
对象存储	Huawei FusionStorage object
开源ceph 	不新增，存量老旧替换或随上云日落






6	术语
名称	定义
EC2	Elastic Compute Cloud（弹性云主机）
BMS	Bare Metal Server (裸机服务)
EKS	Elastic Kubernetes Service（弹性容器服务）
EBS	Elastic Block Storage(块存储服务)
S3	Simple Storage Services（对象存储）
ESFS	Elastic Shared File Service（文件存储服务）


